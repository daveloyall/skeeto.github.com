---
title: The New Index
layout: post
---

<!-- 13 February 2008 -->
<p>
You may have noticed the new index available on the left of the
page. It really needs one, because looking at older posts required
paging through the archives. Even more so because I have yet to add
search functionality. There were <a href="http://www.blosxom.com">
Blosxom</a> plug-ins available to do these things, but they are long
gone now. I looked into getting a Google search box dropped in there,
but it requires a big advertisement to go around the box (and
Javascript... bleh!). I'll figure out something sometime.
</p>
<p>
Blosxom doesn't have a fancy database behind it, but rather plain flat
text files. I imagine that this doesn't scale well, but I haven't
looked that carefully into Blosxom's code. I should never be having
problems like that anyway as I doubt I will ever surpass even 1000
posts, nor will there ever be some huge flood of users. What
I <i>do</i> get is simplicity: to make a new post, I just write a text
file and drop it on the server. It also made writing the index code
very simple.
</p>
<p>
Without further ado, here is the code (under
the <a href="http://www.blosxom.com/license.html">same license</a> as
Blosxom): <a href="/download/blog-index.perl">
blog-index.perl</a>. As you can see, it doesn't integrate with the
rest of the blog; it only produces an index. I need function, not
form, so this is fine for me. You can use it on your own Blosxom
setup, just as long as you set the parameters at the top of the file
correctly.
</p>
<p>
The index <i>is</i> created dynamically, but only when it needs to be
updated. It first checks the date of the pre-generated index against
the date of the latest entry. If the entry is newer, the index is
rewritten. In both cases, this index is then served up efficiently
straight from a plain XHTML file. All the proper file locking is in
place (I think), so if there was a flood of requests when the index
needs to be rewritten, no two requests are trying to re-write the
index at the same time.
</p>
<p>
So nothing terribly exciting this week, but I hope someone finds this
code useful somewhere.
</p>
