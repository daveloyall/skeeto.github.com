---
title: Rumor Simulation
layout: post
tags: [java, math, media, video, reddit]
uuid: 9fee2022-d273-34d6-0970-546b5e875460
---

<p>
A couple months ago someone
posted <a href="http://www.reddit.com/r/javahelp/comments/ngvp4/">an
interesting programming homework problem</a> on reddit, asking for
help. Help had already been provided before I got there, but I thought
the problem was an interesting one.
</p>
<blockquote>
<p>
Write a program that simulates the spreading of a rumor among a group
of people. At any given time, each person in the group is in one of
three categories:
</p>
<ul>
  <li>IGNORANT - the person has not yet heard the rumor</li>
  <li>SPREADER - the person has heard the rumor and is eager to spread it</li>
  <li>STIFLER  - the person has heard the rumor but considers it old
                 news and will not spread it</li>
</ul>
<p>
At the very beginning, there is one spreader; everyone else is
ignorant. Then people begin to encounter each other.
</p>
<p>
So the encounters go like this:
</p>
<ul>
  <li>If a SPREADER and an IGNORANT meet, IGNORANT becomes a SPREADER.</li>
  <li>If a SPREADER and a STIFLER meet, the SPREADER becomes a STIFLER.</li>
  <li>If a SPREADER and a SPREADER meet, they both become STIFLERS.</li>
  <li>In all other encounters nothing changes.</li>
</ul>
<p>
Your program should simulate this by repeatedly selecting two people
randomly and having them "meet."
</p>
<p>
There are three questions we want to answer:
</p>
<ul>
  <li>Will everyone eventually hear the rumor, or will it die out
      before everyone hears it?</li>
  <li>If it does die out, what percentage of the population hears it?</li>
  <li>How long does it take?  i.e. How many encounters occur before
      the rumor dies out?</li>
</ul>
</blockquote>
<p>
I <a href="https://github.com/skeeto/rumor-sim">wrote a very thorough
version</a> to <a href="/blog/2011/11/28/">produce videos</a> of the
simulation in action.
</p>
<pre>
git clone git://github.com/skeeto/rumor-sim.git
</pre>
<p>
It accepts some command line arguments, so you don't need to edit any
code just to try out some simple things.
</p>
<p>
And here are a couple of videos. Each individual is a cell in a 2D
grid. IGNORANT is black, SPREADER is red, and STIFLER is white. Note
that this is <i>not</i> a cellular automata, because cell neighborship
does not come into play.
<p class="center">
<video src="https://s3.amazonaws.com/nullprogram/rumor/rumor-small.webm"
       controls width="400" height="250"/>
</p>
<p>
And a larger one with a population of 10,000.
</p>
<p class="center">
<video src="https://s3.amazonaws.com/nullprogram/rumor/rumor.webm"
       controls width="400" height="400"/>
</p>
<p>
Here's are the statistics for ten different rumors.
</p>
<pre>
Rumor(n=10000, meetups=132380, knowing=0.789)
Rumor(n=10000, meetups=123944, knowing=0.7911)
Rumor(n=10000, meetups=117459, knowing=0.7985)
Rumor(n=10000, meetups=127063, knowing=0.79)
Rumor(n=10000, meetups=124116, knowing=0.8025)
Rumor(n=10000, meetups=115903, knowing=0.7952)
Rumor(n=10000, meetups=137222, knowing=0.7927)
Rumor(n=10000, meetups=134354, knowing=0.797)
Rumor(n=10000, meetups=113887, knowing=0.8025)
Rumor(n=10000, meetups=139534, knowing=0.7938)
</pre>
<p>
Except for very small populations, the simulation always terminates
very close to 80% rumor coverage. I don't understand (yet) why this
is, but I find it very interesting.
</p>
