---
title: Custom Webcomic RSS Feeds
layout: post
---

<!-- 22 April 2009 -->
<p>
<img src="/img/diagram/html2rss.png" alt=""
     title="Screen scraping in action!" class="right"/>

I actually didn't start using RSS feeds until recently, and I wish I
had started earlier. However, when I added my favorite webcomics to my
feed I noticed most of them didn't actually include the comic
itself. Personally, I would rather read the comic right in the feed.
</p>
<p>
Well, I later came across an old post on a blog I
frequent: <a href="http://terminally-incoherent.com/"> Terminally
Incoherent</a>. Luke Maciak posted some code
to <a href="http://terminally-incoherent.com/blog/2006/01/27/screen-scraping-for-rss/">
generate an RSS feed by scraping the comic's website</a>. He did it in
order to provide feeds for webcomics that don't have one. I took it,
added a web front-end to it, and made the feeds available to
anyone. <s>You can find them under /feeds/ or at the link in the main
left bar.</s> (<i>Removed after changing web hosts.</i>)
</p>
<p>
The scraper works by searching the comic's "latest comic" page for
image sources matching a regular expression. So to teach the scraper
about a new comic, all that needs to be provided is a URL and a
regular expression matching only the image of the comic.
</p>
<p>
My front-end has a database of URL/regex pairs and takes care of
caching results. This way it only queries the comic's website once
every few hours at the most.
</p>
<p>
Here's where you can find the code,
</p>
<p>
<a href="/download/comicfeeds/feeds.perl">feeds.pl</a><br />
<a href="/download/comicfeeds/grab.perl">grab.pl</a>
</p>
<p>
I also use an <code>.htaccess</code> file to write the links to look
much cleaner,
</p>
<pre>
RewriteEngine on
RewriteRule ^([\w\/]+)$ feeds.pl?q=$1
RewriteRule ^$ list
</pre>
<p>
There are some comics that are immune. Specifically, some comics don't
allow hot-linking, which includes links from an RSS feed. There is
nothing I can really do about these.
</p>
<p>
If you enjoy these comics, go ahead and add these feeds if you want to
read them right in your RSS reader.
</p>
